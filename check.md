# Чеклист реализации Scrapper

## Функциональные требования

### StackOverflow
- [ ] При новом ответе/комментарии сообщение включает:
    - [ ] Текст темы вопроса
    - [ ] Имя пользователя
    - [ ] Время создания
    - [ ] Превью контента (первые 200 символов)

### GitHub
- [ ] При новом PR/Issue сообщение включает:
    - [ ] Название PR/Issue
    - [ ] Имя пользователя
    - [ ] Время создания
    - [ ] Превью описания (первые 200 символов)

## Нефункциональные требования
- [ ] Оптимизация памяти: запрет полной загрузки ссылок
- [ ] Разделение сервисов:
    - [ ] Планировщик (проверка обновлений)
    - [ ] Отправитель (уведомления)
- [ ] Интерфейс для уведомлений `scrapper -> bot`
- [ ] Поддержка HTTP-отправки (с перспективой Kafka)
- [ ] Реализация хранилища:
    - [ ] Postgres
    - [ ] 2 варианта запуска:
        - [ ] `docker-compose` для разработки
        - [ ] Testcontainers для тестов

## Миграции БД
- [ ] SQL-миграции в каталоге `migrations/`
- [ ] Использование Liquibase
- [ ] Кастомный запуск миграций:
    - [ ] Пример в compose-сниппете
    - [ ] Самостоятельная реализация скрипта

## Реализация доступа к БД
- [ ] Два режима работы:
    - [ ] `access-type=SQL` (чистый SQL)
    - [ ] `access-type=ORM` (ORM-реализация)
- [ ] Пример: `OrmLinkService` и `SqlLinkService`

## Тестирование
- [ ] Обязательные тесты:
    - [ ] Запуск БД через Testcontainers
    - [ ] Проверка CRUD операций:
        - [ ] Вставка
        - [ ] Удаление
        - [ ] Обновление
    - [ ] Тест выбора реализации (SQL/ORM) через конфиг
    - [ ] Валидация превью сообщений:
        - [ ] Для разных типов событий (SO/GitHub)
        - [ ] Проверка обрезки до 200 символов
